{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?23e1","webpack:///./src/components/MarkdownEditorImage.vue?3d26","webpack:///./src/App.vue?8fd4","webpack:///./src/components/MarkdownEditor.vue?ab3f","webpack:///./src/components/MarkdownEditor.vue?4850","webpack:///./src/components/MarkdownEditor.vue?58f5","webpack:///./src/components/MarkdownEditorImage.vue?1121","webpack:///./src/App.vue?2a0c","webpack:///./src/components/MarkdownEditor.vue?b0bb","webpack:///./src/common/codemirror/codemirror.js","webpack:///./src/common/markdown/parsers.js","webpack:///./src/common/markdown/utils.js","webpack:///./src/common/markdown/markdown.js","webpack:///./src/components/MarkdownEditorImage.vue?137d","webpack:///src/components/MarkdownEditorImage.vue","webpack:///./src/components/MarkdownEditorImage.vue?5987","webpack:///./src/components/MarkdownEditorImage.vue","webpack:///src/components/MarkdownEditor.vue","webpack:///./src/components/MarkdownEditor.vue?d75b","webpack:///./src/components/MarkdownEditor.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/App.vue?e7ec","webpack:///./src/components/MarkdownEditorImage.vue?ff15"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","___CSS_LOADER_API_IMPORT___","content","locals","add","default","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","attrs","theme","images","enabled","model","callback","$$v","markdown","expression","directives","rawName","domProps","_q","on","$event","staticRenderFns","class","dark","light","options","onInput","onReady","modes","vimLoaded","addModeScript","modeUrl","getModeUrl","onerror","filter","addScript","onload","url","script","document","createElement","src","body","appendChild","CodeMirror","version","fuzzyFindMode","fuzzy","lowerFuzzy","toLowerCase","modeInfo","find","ext","includes","isVimLoaded","loadMode","fuzzyMode","some","loadVim","vimUrl","codeRegex","imageTagRegex","parse","regex","text","matches","results","exec","parseCodeblocks","forEach","match","filename","language","code","parseImages","alt","multilineTokens","inlineTokens","extractImages","stripCodeblocks","split","line","index","map","stripInlineCodeblocks","stripMultilineCodeblocks","final","token","searchRegex","RegExp","replace","Markdown","source","onLoad","onError","showCaptions","_s","_e","props","String","Function","Boolean","component","components","codemirror","initialCursor","type","validator","initialVimMode","settings","defaultConfig","keyMap","tabSize","editor","isInitialVimModeSet","widgets","watch","maybeLoadVim","computed","codeblocks","config","addModeClass","extraKeys","instance","indentSelection","Tab","somethingSelected","replaceSelection","Array","getOption","join","indentUnit","indentWithTabs","lineWrapping","highlightFormatting","singleCursorHeightPerLine","methods","focus","focusEnd","setCursor","focusStart","loadImages","propsData","image","lineWidget","loadModes","codeblock","maybeSetVimMode","setOption","state","vim","insertMode","signal","$emit","getValue","ch","character","refresh","setValue","cursor","created","MarkdownEditor","classList","remove","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.4ccdde80.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".container[data-v-214a9d56]{background-color:rgba(0,0,0,.3);border-radius:.25rem!important;display:flex;align-items:center;justify-content:center;padding:1rem;margin-bottom:.5rem;max-width:100%}.container img[data-v-214a9d56]{display:block;max-height:20rem;max-width:100%}.container .figure[data-v-214a9d56]{margin:0}.container .caption[data-v-214a9d56]{text-align:center;margin-top:1rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"517436b3\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditor.vue?vue&type=style&index=0&id=6df81dc4&scoped=true&lang=css&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditor.vue?vue&type=style&index=0&id=6df81dc4&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"689e9893\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti{background-color:transparent!important}.editor[data-v-6df81dc4] .CodeMirror .cm-m-markdown:not(.cm-comment){font-family:sans-serif!important}.editor[data-v-6df81dc4] .CodeMirror{min-height:100%;height:auto;position:relative;font-size:1em;line-height:2.25em}.editor[data-v-6df81dc4] .CodeMirror pre.CodeMirror-line,.editor[data-v-6df81dc4] .CodeMirror pre.CodeMirror-line-like{padding:0}.editor[data-v-6df81dc4] .CodeMirror .cm-header-1{font-size:1.6em}.editor[data-v-6df81dc4] .CodeMirror .cm-header-2{font-size:1.5em}.editor[data-v-6df81dc4] .CodeMirror .cm-header-3{font-size:1.4em}.editor[data-v-6df81dc4] .CodeMirror .cm-header-4{font-size:1.3em}.editor[data-v-6df81dc4] .CodeMirror .cm-header-5{font-size:1.2em}.editor[data-v-6df81dc4] .CodeMirror .cm-header-6{font-size:1.1em}.editor[data-v-6df81dc4] .CodeMirror-scroll{overflow-y:hidden!important}.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-formatting-list{color:#96c0d8!important}.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-comment{color:#9e9e9e}.light.editor[data-v-6df81dc4] .CodeMirror .CodeMirror-line,.light.editor[data-v-6df81dc4] .CodeMirror .CodeMirror-line-like{color:#000}.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-formatting-em,.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-formatting-strikethrough,.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-formatting-strong{color:#444}.light.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-formatting-em,.light.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-formatting-strikethrough,.light.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-formatting-strong{color:#bbb}.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .CodeMirror-selected,.dark.editor[data-v-6df81dc4] .CodeMirror.CodeMirror-focused.cm-s-yeti .CodeMirror-selected{background:#555}.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti.cm-fat-cursor .CodeMirror-cursor{background:#557bab}.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-animate-fat-cursor{background-color:#557bab}.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-keyword:not(.cm-comment),.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-2:not(.cm-comment),.dark.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-3:not(.cm-comment){color:#d1c9c0}.light.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-keyword:not(.cm-comment),.light.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-2:not(.cm-comment),.light.editor[data-v-6df81dc4] .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-3:not(.cm-comment){color:#444}.dark.editor[data-v-6df81dc4] .CodeMirror{color:#fff}.light.editor[data-v-6df81dc4] .caption{color:#444}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditorImage.vue?vue&type=style&index=0&id=214a9d56&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('h1',[_vm._v(\"vue-markdown-editor\")]),_vm._m(0),_c('MarkdownEditor',{staticClass:\"editor\",attrs:{\"theme\":_vm.theme,\"settings\":{ images: { enabled: true } }},model:{value:(_vm.markdown),callback:function ($$v) {_vm.markdown=$$v},expression:\"markdown\"}}),_c('div',{staticClass:\"toggle\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.theme),expression:\"theme\"}],attrs:{\"type\":\"radio\",\"value\":\"light\"},domProps:{\"checked\":_vm._q(_vm.theme,\"light\")},on:{\"change\":function($event){_vm.theme=\"light\"}}}),_c('span',[_vm._v(\"light\")])]),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.theme),expression:\"theme\"}],attrs:{\"type\":\"radio\",\"value\":\"dark\"},domProps:{\"checked\":_vm._q(_vm.theme,\"dark\")},on:{\"change\":function($event){_vm.theme=\"dark\"}}}),_c('span',[_vm._v(\"dark\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"A Markdown editor component for Vue that renders in place without the need for a preview pane. This is the component that powers \"),_c('a',{attrs:{\"href\":\"https://github.com/voraciousdev/octo\"}},[_vm._v(\"Octo\")]),_vm._v(\".\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('codemirror',{staticClass:\"editor\",class:{ dark: (_vm.theme === 'dark'), light: (_vm.theme === 'light') },attrs:{\"options\":_vm.options,\"value\":_vm.value},on:{\"input\":_vm.onInput,\"ready\":_vm.onReady}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import CodeMirror from 'codemirror'\nimport 'codemirror/mode/meta'\n\nlet modes = []\nlet vimLoaded = false\n\nconst addModeScript = (mode, options) => {\n  const modeUrl = getModeUrl(mode)\n  const onerror = () => {\n    modes = modes.filter((m) => m !== mode)\n\n    options.onerror()\n  }\n\n  addScript(modeUrl, { onload: options.onload, onerror })\n}\n\nconst addScript = (url, { onload, onerror }) => {\n  const script = document.createElement('script')\n\n  script.src = url\n\n  if (onload) {\n    script.onload = onload\n  }\n\n  if (onerror) {\n    script.onerror = onerror\n  }\n\n  document.body.appendChild(script)\n}\n\nconst getModeUrl = (mode) => (\n  // hardcode for now\n  `https://cdnjs.cloudflare.com/ajax/libs/codemirror/${CodeMirror.version}/mode/${mode.mode}/${mode.mode}.min.js`\n)\n\nconst fuzzyFindMode = (fuzzy) => {\n  const lowerFuzzy = fuzzy.toLowerCase()\n\n  return CodeMirror.modeInfo.find((mode) => {\n    // check to see if the mode matches\n    if (mode.mode === lowerFuzzy) {\n      return true\n    }\n\n    // check to see if the extension matches\n    if (mode.ext && mode.ext.includes(lowerFuzzy)) {\n      return true\n    }\n\n    return false\n  })\n}\n\nexport const isVimLoaded = () => vimLoaded\n\nexport const loadMode = (fuzzyMode, options) => {\n  const mode = fuzzyFindMode(fuzzyMode)\n\n  if (mode && mode.mode !== 'null' && !modes.some((m) => m.mode === mode.mode)) {\n    if (mode.mode === 'vue') {\n      loadMode('html', options)\n      loadMode('css', options)\n      loadMode('js', options)\n    }\n\n    modes.push(mode)\n\n    // ensure CodeMirror namespace exists in the browser\n    window.CodeMirror = window.CodeMirror || CodeMirror\n\n    addModeScript(mode, options)\n  }\n}\n\nexport const loadVim = (options) => {\n  // ensure CodeMirror namespace exists in the browser\n  window.CodeMirror = window.CodeMirror || CodeMirror\n\n  const vimUrl = `https://cdnjs.cloudflare.com/ajax/libs/codemirror/${CodeMirror.version}/keymap/vim.min.js`\n  const onload = () => {\n    vimLoaded = true\n\n    if (options.onload) options.onload()\n  }\n  const onerror = () => {\n    if (options.onerror) options.onerror()\n  }\n\n  if (!vimLoaded) {\n    addScript(vimUrl, {\n      onload,\n      onerror,\n    })\n  }\n}\n\nexport default {\n  isVimLoaded,\n  loadMode,\n  loadVim,\n}\n","const codeRegex = /```([^\\n\\s]*)(?:\\s([\\w-]+\\.[\\w]+))?\\n(.*?)```/gs\nconst imageTagRegex = /!\\[(.*?)\\]\\((.+?)\\)/g\nconst tagsRegex = /````.*?````|```.*?```|``.*?``|`.*?`|\\w+:\\/?\\/?\\S*|#([\\w-]+)/gs\nconst tasksRegex = /````.*?````|```.*?```|``.*?``|`.*?`|- \\[ \\] ([^\\n]+)/gs\n\nexport const parse = (regex, text) => {\n  let matches = []\n  const results = []\n\n  while (matches = regex.exec(text)) {\n    results.push(matches)\n  }\n\n  return results\n}\n\nexport const parseCodeblocks = (text) => {\n  const matches = parse(codeRegex, text)\n  const results = []\n\n  matches.forEach((match) => {\n    results.push({\n      filename: match[2],\n      language: match[1],\n      code: match[3],\n    })\n  })\n\n  return results\n}\n\nexport const parseImages = (text) => {\n  const matches = parse(imageTagRegex, text)\n  const results = []\n\n  matches.forEach((match) => {\n    if (match[2]) {\n      results.push({\n        alt: match[1],\n        url: match[2],\n      })\n    }\n  })\n\n  return results\n}\n\nexport const parseTags = (text) => {\n  const matches = parse(tagsRegex, text)\n  const tags = new Set()\n\n  matches.forEach((match) => {\n    if (match[1]) {\n      tags.add(match[1].toLowerCase())\n    }\n  })\n\n  return Array.from(tags).sort()\n}\n\nexport const parseTasks = (text) => {\n  const matches = parse(tasksRegex, text)\n  const results = []\n\n  matches.forEach((match) => {\n    if (match[1]) {\n      results.push(match[1])\n    }\n  })\n\n  return results\n}\n\nexport default {\n  parse,\n  parseCodeblocks,\n  parseImages,\n  parseTags,\n}\n","import { parseImages } from './parsers'\n\nconst multilineTokens = ['````', '```']\nconst inlineTokens = ['``', '`']\n\nexport const extractImages = (text) => {\n  const images = []\n\n  stripCodeblocks(text).split('\\n').forEach((line, index) => {\n    const matches = parseImages(line)\n\n    images.push(\n      ...matches.map((match) => ({\n        alt: match.alt || null,\n        line: index,\n        url: match.url,\n      })),\n    )\n  })\n\n  return images\n}\n\nexport const stripCodeblocks = (text) => stripInlineCodeblocks(\n  // multiline codeblocks need to be stripped first\n  stripMultilineCodeblocks(text),\n)\n\nexport const stripInlineCodeblocks = (text) => {\n  let final = text\n\n  inlineTokens.forEach((token) => {\n    const searchRegex = new RegExp(`${token}.*?${token}`, 'g')\n\n    final = final.replace(searchRegex, '')\n  })\n\n  return final\n}\n\nexport const stripMultilineCodeblocks = (text) => {\n  let final = text\n\n  multilineTokens.forEach((token) => {\n    const searchRegex = new RegExp(`${token}.*?${token}`, 'gs')\n\n    final = final.replace(searchRegex, (match) => match.replace(/[^\\n]*/g, ''))\n  })\n\n  return final\n}\n\nexport default {\n  extractImages,\n  stripCodeblocks,\n  stripInlineCodeblocks,\n  stripMultilineCodeblocks,\n}\n","import { parseCodeblocks } from './parsers'\nimport { extractImages, stripCodeblocks } from './utils'\n\nclass Markdown {\n  constructor(text) {\n    this.text = text || ''\n  }\n\n  codeblocks() {\n    return parseCodeblocks(this.text)\n  }\n\n  images() {\n    return extractImages(this.text)\n  }\n\n  stripCodeblocks() {\n    return stripCodeblocks(this.text)\n  }\n}\n\nexport default Markdown\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('figure',{staticClass:\"figure\"},[_c('img',{attrs:{\"src\":_vm.source,\"alt\":_vm.alt},on:{\"load\":_vm.onLoad,\"error\":_vm.onError}}),(_vm.showCaptions && _vm.alt)?_c('figcaption',{staticClass:\"caption sans-serif\"},[_c('small',[_vm._v(_vm._s(_vm.alt))])]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <figure class=\"figure\">\n      <img :src=\"source\" @load=\"onLoad\" @error=\"onError\" :alt=\"alt\">\n      <figcaption v-if=\"showCaptions && alt\" class=\"caption sans-serif\"><small>{{ alt }}</small></figcaption>\n    </figure>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MarkdownEditorImage',\n  props: {\n    alt: String,\n    onError: Function,\n    onLoad: Function,\n    showCaptions: Boolean,\n    source: String,\n  },\n}\n</script>\n\n<style scoped>\n.container {\n  background-color: rgba(0, 0, 0, 0.3);\n  border-radius: 0.25rem !important;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 1rem;\n  margin-bottom: 0.5rem;\n  max-width: 100%;\n}\n\n.container img {\n  display: block;\n  max-height: 20rem;\n  max-width: 100%;\n}\n\n.container .figure {\n  margin: 0;\n}\n\n.container .caption {\n  text-align: center;\n  margin-top: 1rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditorImage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditorImage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarkdownEditorImage.vue?vue&type=template&id=214a9d56&scoped=true&\"\nimport script from \"./MarkdownEditorImage.vue?vue&type=script&lang=js&\"\nexport * from \"./MarkdownEditorImage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MarkdownEditorImage.vue?vue&type=style&index=0&id=214a9d56&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"214a9d56\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <codemirror class=\"editor\" :class=\"{ dark: (theme === 'dark'), light: (theme === 'light') }\" :options=\"options\" :value=\"value\" @input=\"onInput\" @ready=\"onReady\" />\n</template>\n\n<script>\nimport deepmerge from 'deepmerge'\nimport Vue from 'vue'\nimport { codemirror } from 'vue-codemirror'\n\n// import codemirror dependencies\nimport 'codemirror/addon/mode/overlay'\nimport 'codemirror/addon/mode/simple'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/mode/gfm/gfm'\nimport 'codemirror/mode/markdown/markdown'\nimport 'codemirror/theme/yeti.css'\n\nimport { isVimLoaded, loadMode, loadVim } from '@/common/codemirror/codemirror'\nimport Markdown from '@/common/markdown/markdown'\nimport MarkdownEditorImage from '@/components/MarkdownEditorImage'\n\nconst GenerateImage = () => (Vue.extend(MarkdownEditorImage))\n\nexport default {\n  name: 'MarkdownEditor',\n  components: {\n    codemirror,\n  },\n  props: {\n    initialCursor: {\n      type: Object,\n      default: () => ({\n        character: 0,\n        line: 0,\n      }),\n      validator: (cursor) => (\n        Object.prototype.hasOwnProperty.call(cursor, 'character') && Object.prototype.hasOwnProperty.call(cursor, 'line')\n      ),\n    },\n    initialVimMode: {\n      type: String,\n    },\n    settings: {\n      type: Object,\n      default: () => ({\n        // nothing yet\n      }),\n    },\n    theme: {\n      type: String,\n      default: 'dark',\n    },\n    value: String,\n  },\n  data() {\n    return {\n      defaultConfig: {\n        images: {\n          enabled: false,\n          showCaptions: false,\n        },\n        keyMap: 'default',\n        mode: 'gfm',\n        tabSize: 2,\n      },\n      editor: null,\n      isInitialVimModeSet: false,\n      isVimLoaded: false,\n      text: '',\n      widgets: [],\n    }\n  },\n  watch: {\n    settings() {\n      this.maybeLoadVim()\n    },\n  },\n  computed: {\n    codeblocks() {\n      return this.markdown.codeblocks()\n    },\n    config() {\n      return deepmerge(this.defaultConfig, this.settings)\n    },\n    images() {\n      return this.markdown.images()\n    },\n    keyMap() {\n      if (this.config.keyMap === 'vim' && !this.isVimLoaded) return 'default'\n\n      return this.config.keyMap\n    },\n    markdown() {\n      return new Markdown(this.text)\n    },\n    options() {\n      return {\n        addModeClass: true,\n        extraKeys: {\n          // use spaces instead of tabs\n          // https://github.com/codemirror/CodeMirror/issues/988#issuecomment-14921785\n          'Shift-Tab': (instance) => {\n            instance.indentSelection('subtract')\n          },\n          Tab: (instance) => {\n            if (instance.somethingSelected()) {\n              instance.indentSelection('add')\n            } else {\n              instance.replaceSelection(Array(instance.getOption('tabSize') + 1).join(' '), 'end', '+input')\n            }\n          },\n        },\n        indentUnit: this.config.tabSize,\n        indentWithTabs: false,\n        keyMap: this.keyMap,\n        lineWrapping: true,\n        mode: {\n          name: this.config.mode,\n          highlightFormatting: true,\n        },\n        singleCursorHeightPerLine: true,\n        tabSize: this.config.tabSize,\n        theme: 'yeti',\n      }\n    },\n  },\n  methods: {\n    focus() {\n      this.editor.focus()\n    },\n    focusEnd() {\n      this.editor.setCursor({ line: this.editor.lineCount(), ch: 0 })\n    },\n    focusStart() {\n      this.editor.setCursor({ line: 0, ch: 0 })\n    },\n    loadImages() {\n      // clear all line widgets\n      // TODO: only clear the ones that change\n      this.widgets.forEach((widget) => this.editor.removeLineWidget(widget))\n\n      if (this.config.images.enabled) {\n        this.images.forEach((image) => {\n          let lineWidget\n\n          const ImageInstance = GenerateImage()\n\n          const component = new ImageInstance({\n            propsData: {\n              alt: image.alt,\n              onError: () => lineWidget.changed(),\n              onLoad: () => lineWidget.changed(),\n              showCaptions: this.config.images.showCaptions,\n              source: image.url,\n            },\n          })\n\n          lineWidget = this.editor.addLineWidget(image.line, component.$mount().$el, { above: true })\n\n          this.widgets.push(lineWidget)\n        })\n      }\n    },\n    loadModes() {\n      this.codeblocks.forEach((codeblock) => {\n        if (codeblock.language) {\n          // language specified\n          loadMode(codeblock.language, {\n            onload: this.refresh,\n          })\n        }\n      })\n    },\n    maybeLoadVim() {\n      if (this.settings.keyMap === 'vim' && !this.isVimLoaded) {\n        loadVim({\n          onload: () => { this.isVimLoaded = true },\n        })\n      }\n    },\n    maybeSetVimMode() {\n      if (this.initialVimMode && !this.isInitialVimModeSet && this.keyMap === 'vim') {\n        this.editor.setOption('keyMap', this.initialVimMode || this.keyMap)\n\n        if (this.initialVimMode === 'vim-insert') {\n          this.editor.state.vim.insertMode = true\n          this.editor.setOption('disableInput', false)\n          window.CodeMirror.signal(this.editor, 'vim-mode-change', { mode: 'insert' })\n        }\n\n        this.isInitialVimModeSet = true\n      }\n    },\n    onInput(text) {\n      this.text = text\n\n      if (text !== this.value) {\n        // prevent CM input events on :value changes\n        this.$emit('input', text)\n      }\n\n      this.loadImages()\n      this.loadModes()\n    },\n    onReady(instance) {\n      this.editor = instance\n      this.text = this.editor.getValue()\n\n      this.maybeLoadVim()\n      this.maybeSetVimMode()\n\n      this.editor.setCursor({\n        ch: this.initialCursor.character,\n        line: this.initialCursor.line,\n      })\n\n      this.$emit('ready', instance)\n      this.loadImages()\n      this.loadModes()\n    },\n    refresh() {\n      // get current cursor position\n      const cursor = this.editor.getCursor()\n\n      // refresh editor\n      this.editor.setValue(this.editor.getValue())\n\n      // set cursor position back to where it was\n      this.editor.setCursor(cursor)\n    },\n  },\n  created() {\n    this.isVimLoaded = isVimLoaded()\n  },\n}\n</script>\n\n<style scoped>\n.editor >>> .CodeMirror.cm-s-yeti {\n  background-color: transparent !important;\n}\n\n.editor >>> .CodeMirror .cm-m-markdown:not(.cm-comment) {\n  font-family: sans-serif !important;\n}\n\n.editor >>> .CodeMirror {\n  min-height: 100%;\n  height: auto;\n}\n\n.editor >>> .CodeMirror {\n  position: relative;\n  font-size: 1em;\n  line-height: 2.25em;\n}\n\n.editor >>> .CodeMirror pre.CodeMirror-line,\n.editor >>> .CodeMirror pre.CodeMirror-line-like {\n  padding: 0;\n}\n\n.editor >>> .CodeMirror .cm-header-1 {\n  font-size: 1.6em;\n}\n\n.editor >>> .CodeMirror .cm-header-2 {\n  font-size: 1.5em;\n}\n\n.editor >>> .CodeMirror .cm-header-3 {\n  font-size: 1.4em;\n}\n\n.editor >>> .CodeMirror .cm-header-4 {\n  font-size: 1.3em;\n}\n\n.editor >>> .CodeMirror .cm-header-5 {\n  font-size: 1.2em;\n}\n\n.editor >>> .CodeMirror .cm-header-6 {\n  font-size: 1.1em;\n}\n\n.editor >>> .CodeMirror-scroll {\n  overflow-y: hidden !important;\n}\n\n/* dark and light themes */\n\n.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-formatting-list {\n  color: #96c0d8 !important;\n}\n\n.editor >>> .CodeMirror.cm-s-yeti .cm-comment {\n  color: #9e9e9e;\n}\n\n.light.editor >>> .CodeMirror .CodeMirror-line,\n.light.editor >>> .CodeMirror .CodeMirror-line-like {\n  color: #000;\n}\n\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-formatting-em,\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-formatting-strong,\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-formatting-strikethrough {\n  color: #444;\n}\n\n.light.editor >>> .CodeMirror.cm-s-yeti .cm-formatting-em,\n.light.editor >>> .CodeMirror.cm-s-yeti .cm-formatting-strong,\n.light.editor >>> .CodeMirror.cm-s-yeti .cm-formatting-strikethrough {\n  color: #bbb;\n}\n\n.dark.editor >>> .CodeMirror.CodeMirror-focused.cm-s-yeti .CodeMirror-selected,\n.dark.editor >>> .CodeMirror.cm-s-yeti .CodeMirror-selected {\n  background: #555;\n}\n\n.dark.editor >>> .CodeMirror.cm-s-yeti.cm-fat-cursor .CodeMirror-cursor {\n  background: #557bab;\n}\n\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-animate-fat-cursor {\n  background-color: #557bab;\n}\n\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-2:not(.cm-comment),\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-3:not(.cm-comment),\n.dark.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-keyword:not(.cm-comment) {\n  color: #d1c9c0;\n}\n\n.light.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-2:not(.cm-comment),\n.light.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-variable-3:not(.cm-comment),\n.light.editor >>> .CodeMirror.cm-s-yeti .cm-m-markdown.cm-keyword:not(.cm-comment) {\n  color: #444;\n}\n\n.dark.editor >>> .CodeMirror {\n  color: #fff;\n}\n\n.light.editor >>> .caption {\n  color: #444;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarkdownEditor.vue?vue&type=template&id=6df81dc4&scoped=true&\"\nimport script from \"./MarkdownEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MarkdownEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MarkdownEditor.vue?vue&type=style&index=0&id=6df81dc4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6df81dc4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"app\">\n    <h1>vue-markdown-editor</h1>\n    <p>A Markdown editor component for Vue that renders in place without the need for a preview pane. This is the component that powers <a href=\"https://github.com/voraciousdev/octo\">Octo</a>.</p>\n    <MarkdownEditor v-model=\"markdown\" :theme=\"theme\" :settings=\"{ images: { enabled: true } }\" class=\"editor\" />\n    <div class=\"toggle\">\n      <label>\n        <input v-model=\"theme\" type=\"radio\" value=\"light\">\n        <span>light</span>\n      </label>\n      <label>\n        <input v-model=\"theme\" type=\"radio\" value=\"dark\">\n        <span>dark</span>\n      </label>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MarkdownEditor from '@/components/MarkdownEditor'\n\nexport default {\n  name: 'App',\n  components: {\n    MarkdownEditor,\n  },\n  data() {\n    return {\n      markdown: '# Hello, World!',\n      theme: 'dark',\n    }\n  },\n  watch: {\n    theme(value) {\n      document.body.classList.remove('dark', 'light')\n      document.body.classList.add(value)\n    },\n  },\n}\n</script>\n\n<style>\n* {\n  box-sizing: border-box;\n}\n\nhtml {\n  height: -webkit-fill-available;\n}\n\nbody {\n  font-family: sans-serif;\n  height: 100vh;\n  height: -webkit-fill-available;\n\n  display: flex;\n  flex-direction: column;\n}\n\na {\n  font-weight: bold;\n}\n\n.app {\n  margin: auto;\n  max-width: 70rem;\n  width: 100%;\n}\n\n.toggle {\n  position: fixed;\n  top: 1rem;\n  right: 1rem;\n}\n\n.editor {\n  border-radius: 0.25em;\n  padding: 1em;\n}\n\n.dark {\n  background-color: #111;\n  color: #aaa;\n}\n\n.dark a {\n  color: #aaa;\n}\n\n.dark .editor {\n  background-color: #050505;\n}\n\n.light a {\n  color: #000;\n}\n\n.light .editor {\n  background-color: #eee;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=120d87e6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount('#app')\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"*{box-sizing:border-box}html{height:-webkit-fill-available}body{font-family:sans-serif;height:100vh;height:-webkit-fill-available;display:flex;flex-direction:column}a{font-weight:700}.app{margin:auto;max-width:70rem;width:100%}.toggle{position:fixed;top:1rem;right:1rem}.editor{border-radius:.25em;padding:1em}.dark{background-color:#111}.dark,.dark a{color:#aaa}.dark .editor{background-color:#050505}.light a{color:#000}.light .editor{background-color:#eee}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditorImage.vue?vue&type=style&index=0&id=214a9d56&scoped=true&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"263927db\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}